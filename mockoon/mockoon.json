{
  "openapi": "3.0.0",
  "info": { "title": "User Service API", "version": "1.0.0" },
  "servers": [{ "url": "http://localhost:4000/" }],
  "paths": {
    "/api/health": {
      "get": {
        "description": "Retrieves a HealthCheck resource.",
        "responses": {
          "204": {
            "description": "Health check passed with no content to return.",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "500": {
            "description": "Internal server error",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          }
        }
      }
    },
    "/api/oauth/authorize": {
      "get": {
        "description": "",
        "responses": {
          "302": {
            "description": "Redirect to the provided redirect URI with authorization code.",
            "content": { "application/json": { "example": {} } },
            "headers": {
              "Location": {
                "schema": { "type": "string" },
                "example": "https://example.com/oauth/callback?code=e7f8c62113a4"
              }
            }
          },
          "400": {
            "description": "Unsupported grant type",
            "content": {
              "application/json": {
                "example": "{\n  \"error\": \"\",\n  \"error_description\": \"\",\n  \"hint\": \"\",\n  \"message\": \"\"\n}"
              }
            },
            "headers": {}
          },
          "401": {
            "description": "Invalid client credentials",
            "content": {
              "application/json": {
                "example": "{\n  \"error\": \"\",\n  \"error_description\": \"\",\n  \"message\": \"\"\n}"
              }
            },
            "headers": {}
          },
          "500": {
            "description": "Internal server error",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          }
        }
      }
    },
    "/api/oauth/token": {
      "post": {
        "description": "",
        "responses": {
          "200": {
            "description": "Unsupported grant type",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "400": {
            "description": "Unsupported grant type",
            "content": {
              "application/json": {
                "example": "{\n  \"error\": \"\",\n  \"error_description\": \"\",\n  \"hint\": \"\",\n  \"message\": \"\"\n}"
              }
            },
            "headers": {}
          },
          "401": {
            "description": "Invalid client credentials",
            "content": {
              "application/json": {
                "example": "{\n  \"error\": \"\",\n  \"error_description\": \"\",\n  \"message\": \"\"\n}"
              }
            },
            "headers": {}
          },
          "500": {
            "description": "Internal server error",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          }
        }
      }
    },
    "/api/users": {
      "get": {
        "description": "Retrieves the collection of User resources.",
        "responses": {
          "200": { "description": "", "content": { "*/*": { "example": "{}" } }, "headers": {} },
          "400": {
            "description": "Bad request",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "500": {
            "description": "Internal server error",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          }
        }
      },
      "post": {
        "description": "Creates a User resource.",
        "responses": {
          "201": {
            "description": "User created",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "400": {
            "description": "Bad request",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "422": {
            "description": "Validation error",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "500": {
            "description": "Internal server error",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          }
        }
      }
    },
    "/api/users/batch": {
      "post": {
        "description": "Creates a User resource.",
        "responses": {
          "201": {
            "description": "Users returned",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "422": {
            "description": "Validation error",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "500": {
            "description": "Internal server error",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          }
        }
      }
    },
    "/api/users/confirm": {
      "patch": {
        "description": "Confirms the User",
        "responses": {
          "200": {
            "description": "User confirmed",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "404": {
            "description": "Token not found or expired",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "500": {
            "description": "Internal server error",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          }
        }
      }
    },
    "/api/users/{id}": {
      "get": {
        "description": "Retrieves a User resource.",
        "responses": {
          "200": {
            "description": "User returned",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "404": {
            "description": "User not found",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "500": {
            "description": "Internal server error",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          }
        },
        "parameters": [
          { "name": "id", "in": "path", "schema": { "type": "string" }, "required": true }
        ]
      },
      "put": {
        "description": "Replaces the User resource.",
        "responses": {
          "200": {
            "description": "User updated",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "400": {
            "description": "Bad request",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "404": {
            "description": "User not found",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "422": {
            "description": "Validation error",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "500": {
            "description": "Internal server error",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          }
        },
        "parameters": [
          { "name": "id", "in": "path", "schema": { "type": "string" }, "required": true }
        ]
      },
      "delete": {
        "description": "Removes the User resource.",
        "responses": {
          "204": {
            "description": "User resource deleted",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "404": {
            "description": "User not found",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "500": {
            "description": "Internal server error",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          }
        },
        "parameters": [
          { "name": "id", "in": "path", "schema": { "type": "string" }, "required": true }
        ]
      },
      "patch": {
        "description": "Updates the User resource.",
        "responses": {
          "200": {
            "description": "User updated",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "400": {
            "description": "Bad request",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "404": {
            "description": "User not found",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "422": {
            "description": "Validation error",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "500": {
            "description": "Internal server error",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          }
        },
        "parameters": [
          { "name": "id", "in": "path", "schema": { "type": "string" }, "required": true }
        ]
      }
    },
    "/api/users/{id}/resend-confirmation-email": {
      "post": {
        "description": "Resends confirmation email",
        "responses": {
          "200": {
            "description": "Email was send again",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "404": {
            "description": "User not found",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "429": {
            "description": "Too many requests",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          },
          "500": {
            "description": "Internal server error",
            "content": { "application/json": { "example": {} } },
            "headers": {}
          }
        },
        "parameters": [
          { "name": "id", "in": "path", "schema": { "type": "string" }, "required": true }
        ]
      }
    }
  }
}
